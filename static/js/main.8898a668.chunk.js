(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{2:function(e,t,a){e.exports={App:"Allstyles_App__2o7lO",Searchbar:"Allstyles_Searchbar__3o6vn",SearchForm:"Allstyles_SearchForm__3rdHL",SearchFormButton:"Allstyles_SearchFormButton__1p_eY","SearchFormButton-label":"Allstyles_SearchFormButton-label__3pEYu",SearchFormInput:"Allstyles_SearchFormInput__1kypZ",ImageGallery:"Allstyles_ImageGallery__1dO-V",ImageGalleryItem:"Allstyles_ImageGalleryItem__aPd5a",ImageGalleryItemImage:"Allstyles_ImageGalleryItemImage__3wtYJ",Overlay:"Allstyles_Overlay__3I5_k",Modal:"Allstyles_Modal__1yHhz",Button:"Allstyles_Button__6v0Ws",BtnWrap:"Allstyles_BtnWrap__2-LDs"}},65:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),r=a(16),s=a.n(r),c=a(2),o=a.n(c),i=a(7),g=a(17),h=a(18),m=a(21),u=a(20),d=a(0);function j(e){var t=e.getSearch;return Object(d.jsx)("header",{className:o.a.Searchbar,children:Object(d.jsxs)("form",{className:o.a.SearchForm,onSubmit:function(e){e.preventDefault(),new FormData(e.target).forEach((function(e,a){t(e)}))},children:[Object(d.jsx)("button",{type:"submit",className:o.a.SearchFormButton,children:Object(d.jsx)("span",{className:o.a.SearchFormButtonLabel})}),Object(d.jsx)("input",{className:o.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,name:"search",placeholder:"Search images and photos"})]})})}function f(e){var t=e.fetchImages,a=e.toggleModal,l=e.imageObj;console.log(l);return Object(d.jsx)("li",{className:o.a.ImageGalleryItem,children:Object(d.jsx)("img",{onClick:function(){a(),t(l.webformatURL)},src:l.webformatURL,alt:"GalleryImage",className:o.a.ImageGalleryItemImage})})}function b(e){var t=e.fetchImages,a=e.gallery,l=e.toggleModal;return Object(d.jsx)("ul",{className:o.a.ImageGallery,children:a.map((function(e){return Object(d.jsx)(f,{fetchImages:t,toggleModal:l,imageObj:e},e.id)}))})}var p=a(19),y=a.n(p);function _(){return Object(d.jsx)("div",{className:o.a.BtnWrap,children:Object(d.jsx)(y.a,{type:"ThreeDots",color:"#303f9f",height:50,width:50})})}function I(e){var t=e.getImages;return Object(d.jsx)("div",{className:o.a.BtnWrap,children:Object(d.jsx)("button",{className:o.a.Button,onClick:t,children:"Load more"})})}function O(e){var t=e.hiddenModal,a=e.largeImageURL;return Object(d.jsx)("div",{className:o.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:o.a.Modal,children:Object(d.jsx)("img",{src:a,alt:""})})})}var S=a(6),v=a.n(S);v.a.defaults.baseURL="https://pixabay.com/api";var x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(g.a)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={gallery:[],search:"",page:1,error:null,showModal:!1,loading:!1,originalImageURL:""},e.getImages=function(){e.setState({loading:!0}),v.a.get("/?q=".concat(e.state.search,"&page=").concat(e.state.page,"&key=20995854-4f7ff4b11ac58a74c4b5f57ed&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){e.setState((function(e){return{gallery:[].concat(Object(i.a)(e.gallery),Object(i.a)(t.data.hits)),loading:!1,page:e.page+1}}))})).finally((function(){e.setState({loading:!1}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))},e.getSearch=function(t){e.setState({search:t,gallery:[],page:1})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.ShowModal}}))},e.hiddenModal=function(){e.setState({showModal:!1})},e.fetchImages=function(t){e.setState({originalImageURL:t})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.state.search&&this.getImages(this.state.search)}},{key:"componentDidUpdate",value:function(e,t){this.state.search!==t.search&&this.getImages(this.state.search)}},{key:"render",value:function(){var e=this.state,t=e.originalImageURL,a=e.loading,l=e.gallery,n=e.showModal;return Object(d.jsxs)("div",{className:o.a.App,children:[Object(d.jsx)(j,{getSearch:this.getSearch}),Object(d.jsx)(b,{fetchImages:this.fetchImages,toggleModal:this.toggleModal,gallery:l}),a&&Object(d.jsx)(_,{}),l.length>0&&!a&&Object(d.jsx)(I,{getImages:this.getImages}),n&&Object(d.jsx)(O,{hiddenModal:this.hiddenModal,largeImageURL:t})]})}}]),a}(n.a.Component),M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,l=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),l(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root")),M()}},[[65,1,2]]]);
//# sourceMappingURL=main.8898a668.chunk.js.map